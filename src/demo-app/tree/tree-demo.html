
<div class="tree-container mat-elevation-z4">

  <div class="empty-tree" *ngIf="!dataSource.filteredData.length">
    No data to display.
  </div>

  <cdk-tree #tree [dataSource]="dataSource" [style.display]="!!dataSource.filteredData.length ? '' : 'none'">
    <!-- Row templates. The columns used are set at the row template level -->
    <cdk-node *cdkNodeDef="let node" [cdkNode]="node"
              [class.selected]="node ? selection.isSelected(node) : false"
              [class.data-row]="!!node">
      <div class="row" [cdkNodePadding]>
        <!-- Dotted line for tree -->
        <tree-dotted-line *ngIf="showDottedLine"></tree-dotted-line>

        <!-- Expand trigger -->
        <tree-expansion [expandRecursive]="expandRecursive"></tree-expansion>

        <!-- display content and checkbox -->
          <md-checkbox [checked]="selection.isSelected(node)" [mdNodeSelectTrigger]="node" [cdkNodeTriggerRecursive]="selectRecursive"
                       [cdkNodeTriggerSelection]="selection">
            {{node.name}} {{node.progress}}
          </md-checkbox>
      </div>
    </cdk-node>
  </cdk-tree>
</div>

Selected: <span *ngFor="let node of selection.selected">{{node.name}}, </span>

<br>

Expanded: <span *ngFor="let node of expansionModel.selected">{{node.name}}, </span>
<br>
<button md-button (click)="expandAll()">Expand All</button>
<button md-button (click)="collapseAll()">Collapse All</button>

<br>
<md-slide-toggle [(ngModel)]="showDottedLine">Show dotted lines</md-slide-toggle>
<br>
<md-slide-toggle [(ngModel)]="expandRecursive">Expand Recursively</md-slide-toggle>
<br>
<md-slide-toggle [(ngModel)]="selectRecursive">Select Recursively</md-slide-toggle>