
<div class="tree-container mat-elevation-z4">

  <div class="empty-tree" *ngIf="!dataSource.filteredData.length">
    No data to display.
  </div>

  <md-tree #tree [dataSource]="dataSource" [style.display]="!!dataSource.filteredData.length ? '' : 'none'">
    <!-- Row templates. The columns used are set at the row template level -->
    <md-node *mdNodeDef="let node let level=level let expandable=expandable"
              [class.selected]="node ? selection.isSelected(node) : false"
              [class.data-row]="!!node"
              >
      <div class="row">
        <!--[mdNodePadding]="level" [mdNodePaddingIndent]="45"-->
        <div class="space">
          <div *ngFor="let a of createArray(level); let index = index" [class.special]="dataSource.dottedLineLevels.get(node).includes(index)"></div>
        </div>
        <span [mdNodeExpandTrigger]="node" [mdNodeExpandTriggerRecursive]="expandIncludeChildren" >
          <md-icon *ngIf="expandable">{{ expansionModel.isSelected(node) ? 'arrow_drop_up' : 'arrow_drop_down' }}</md-icon>
        </span>
        <md-checkbox (click)="$event.stopPropagation()"
                     (change)="$event ? selection.toggle(node) : null"
                     [checked]="selection.isSelected(node)">
          {{node.name}} {{node.progress}} </md-checkbox>
      </div>
    </md-node>
  </md-tree>
</div>

Selected: <span *ngFor="let node of selection.selected">{{node.name}}, </span>

<button (click)="refreshData()" >Refresh</button>

<button md-button (click)="expandAll()">Expand All</button>
<button md-button (click)="collapseAll()">Collapse All</button>